<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
function populateGroups(groupsJSON) {
	const obj = JSON.parse(groupsJSON);
	console.log(obj.response.length);
	obj.response.forEach(group => console.log(group.id));
}

async function getGroups(token) {
	console.log('Getting user groups...');
	const response = await fetch('https://api.groupme.com/v3/groups?token='+token, {
	    method: 'GET',
	    headers: {
	      'Content-Type': 'application/json'
	    }
	  });
	const myJson = await response.json();
	populateGroups(myJson);
}
</script>
</head>
<body>

<h1>INDEV GroupMe Message Search Tool</h1>

<div>Access Token: </div>

<input type="text" id="token">

<button type="button"
onclick="getGroups(document.getElementById('token').value);">
Get groups</button>

<p id="demo"></p>

</body>
</html> 
